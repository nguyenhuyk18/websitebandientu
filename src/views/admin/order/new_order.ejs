<!-- Page Wrapper -->
<%- include('../layout/header.ejs') %>

<!-- Sidebar -->
<%- include('../layout/sidebar.ejs') %>
<!-- End of Sidebar -->

<div id="content-wrapper" class="d-flex flex-column">

  <!-- Main Content -->
  <div id="content">

    <!-- Topbar -->
    <%- include('../layout/navbar.ejs') %>
    <!-- End of Topbar -->

    <!-- Begin Page Content -->
    <div class="container-fluid">

      <!-- Page Heading -->
      <h1 class="h3 mb-2 text-gray-800">Danh Sách Đơn Hàng Mới</h1>
      <!-- <p class="mb-4">DataTables is a third party plugin that is used to generate the demo table below.
          For more information about DataTables, please visit the <a target="_blank" href="https://datatables.net">official DataTables documentation</a>.</p> -->

      <!-- DataTales Example -->
      <div class="card shadow mb-4">
        <!-- <div class="card-header py-3">
          <h6 class="m-0 font-weight-bold text-primary">DataTables Example</h6>
        </div> -->
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered new_order" id="dataTable" width="100%" cellspacing="0">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Tên Khách Hàng</th>
                  <th>SĐT (người nhận)</th>
                  <th>Thanh Toán</th>
                  <th>Trạng Thái</th>
                  <th></th>
                  <th></th>
                  <th></th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>ID</th>
                  <th>Tên Khách Hàng</th>
                  <th>SĐT (người nhận)</th>
                  <th>Thanh Toán</th>
                  <th>Trạng Thái</th>
                  <th></th>
                  <th></th>
                  <th></th>
                </tr>
              </tfoot>
              <tbody>
                <% for(const order of listOrder) { %>

                <tr>
                  <td><%= order.id %></td>
                  <td><%= order.name_customer %></td>
                  <td><%= order.shipping_mobile %></td>
                  <td><%= order.payment_method %></td>
                  <td> <% 
    let statusClass = '';
    switch(order.name_order_status) {
      case 'Đã đặt hàng': statusClass = 'badge-secondary'; break;
      case 'Đã xác nhận đơn hàng': statusClass = 'badge-info'; break;
      case 'Hoàn tất đóng gói': statusClass = 'badge-primary'; break;
      case 'Đang giao hàng': statusClass = 'badge-warning'; break;
      case 'Đã giao hàng': statusClass = 'badge-success'; break;
      case 'Đơn hàng bị hủy': statusClass = 'badge-danger'; break;
      default: statusClass = 'badge-light';
    }
  %><span class="badge <%= statusClass %>"><%= order.name_order_status %></span></td>
                  <td><a href="javascript:void(0)" class="btn btn-warning btn-sm">Xác Nhận</a></td>
                  <td><a data_href="/admin/order/delete/<%= order.id %>" href="javascript:void(0)" class="btn btn-danger btn-sm delete" data-toggle="modal" data-target="#areyousure">Hủy</a></td>
                  <td> <a href="/admin/order/detail-<%= order.id %>.html" class="btn btn-info btn-sm" title="Xem chi tiết">
                      <i class="fas fa-eye"></i>
                    </a></td>
                </tr>
                <% } %>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>
    <!-- /.container-fluid -->

  </div>
  <!-- End of Main Content -->

  <!-- Footer -->
  <footer class="sticky-footer bg-white">
    <div class="container my-auto">
      <div class="copyright text-center my-auto">
        <span>Copyright &copy; Nguyễn Đức Huy ADMIN 2020</span>
      </div>
    </div>
  </footer>
  <!-- End of Footer -->

</div>


<%- include('../layout/footer.ejs') %>